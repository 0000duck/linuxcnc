component ddt;

pin in float in;
pin out float out;

option data float;

function update;
;;

typedef struct { float old; } ddt_data;

FUNCTION(update) {
    float tmp = in;
    out = (tmp - data) / (period * 1e-9);
    data = tmp;
}
