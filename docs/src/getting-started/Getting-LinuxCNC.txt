
= Getting LinuxCNC

This section describes the recommended way to download
and make a fresh install of LinuxCNC.  There are also
<<_alternate_install_methods,Alternate Install Methods>> for the
adventurous.  If you have an existing install that you want to upgrade,
go to the <<_updating_linuxcnc,Updating LinuxCNC>> section instead.

Fresh installs of LinuxCNC are most easily created using the Live/Install
Image.  This is a hybrid ISO filesystem image that can be written to a
USB storage device or a DVD and used to boot a computer.  At boot time you
will be given a choice of booting the "Live" system (to run LinuxCNC
without making any permanent changes to your computer) or booting the
Installer (to install LinuxCNC and its operating system onto your
computer's hard drive).

The outline of the process looks like this:

* Download the Live/Install Image.
* Write the image to a USB storage device or DVD.
* Boot the Live system to test out LinuxCNC.
* Boot the Installer to install LinuxCNC.


== Download the image

This section describes some methods for downloading the Live/Install
Image.


=== Normal Download

Download the Live/Install CD by clicking here:

http://www.linuxcnc.org/linuxcnc-2.7-wheezy.iso


=== Download using zsync

zsync is a download application that efficiently resumes interrupted
downloads and efficiently transfers large files with small modifications
(if you have an older local copy).

zsync in Linux::
    Install zsync using your favourite package management
    application such as Synaptic or, by running `sudo apt-get install
    zsync` in a terminal.  To use zsync in Linux to download the
    Live/Install Image, run this command (in a terminal): `zsync
    http://www.linuxcnc.org/linuxcnc-2.7-wheezy.iso.zsync`


zsync in Windows::
    There is a Windows port of zsync.  It works as a
    console application, just like the Linux version, so
    get out that Command Prompt.  It can be downloaded from:
    https://www.assembla.com/spaces/zsync-windows/documents


== Burning the CD

LinuxCNC is distributed as CD image files, called ISOs. 
To install LinuxCNC, you first need to burn the ISO file onto a CD. 
You need a working CD/DVD burner and an 80 minute (700 Mb) CD for this. 
If the CD writing fails, try writing at a slower burn speed. 

Verify md5sum in Linux::

Before burning a CD, it is highly recommended that you verify the 
md5sum (hash) of the .iso file.
+
Open a terminal window. 
In Ubuntu it is Applications/Accessories/Terminal.
+
Change to the directory where the ISO was downloaded to.
+
----
cd download_directory
----
+
Then run the md5sum command with the file name you saved.
+
----
md5sum -b binary.hybrid.iso
----
+
The md5sum should print out a single line after 
calculating the hash. 
On slower computers this might take a minute or two.
+
----
a9898e3397861c2cd0d707f9c27900de *binary.hybrid.iso
----
+
Now compare it to the md5sum value that it should be.
+

Burning the ISO in Linux::

 . Insert a blank CD into your burner. A 'CD/DVD Creator' or 
   'Choose Disc Type' window will pop up. 
   Close this, as we will not be using it.
 . Browse to the downloaded ISO image in the file browser.
 . Right click on the ISO image file and choose Write to Disc.
 . Select the write speed. If you are burning a Ubuntu Live CD, it is
   recommended that you write at the lowest possible speed.
 . Start the burning process.
 . If a 'choose a file name for the disc image' window pops up, just pick OK.

Verify md5sum with Windows::

Before burning a CD, it is highly recommended that you verify the md5
sum (hash) of the .iso file, to ensure that you got a good download.
+
Windows does not come with a md5sum program. You will have to download
and install one to check the md5sum. More information can be found at:
+
https://help.ubuntu.com/community/HowToMD5SUM

Burning the ISO in Windows::

 . Download and install Infra Recorder, a free and open source image
   burning program: http://infrarecorder.org/
 . Insert a blank CD in the drive and select Do nothing or Cancel if an
   auto-run dialog pops up.
 . Open Infra Recorder, and select the 
   'Actions' menu, then 'Burn image'.

== Testing LinuxCNC

With the Live CD in the CD/DVD drive shut down the computer then turn
the computer back on. This will boot the computer from the Live CD.
Once the computer has booted up you can try out LinuxCNC without installing
it. You can not create custom configurations or modify most system
settings like screen resolution unless you install LinuxCNC.

To try out LinuxCNC from the Applications/CNC menu pick LinuxCNC. Then select
a sim configuration to try out.

To see if your computer is suitable for software step pulse generation
run the Latency Test as shown <<latency-test,here>>.

== Installing LinuxCNC

To install LinuxCNC from the LiveCD select 'Install (Graphical) at bootup.

== Updates to LinuxCNC (((Updates to LinuxCNC)))

With the normal install the Update Manager will notify you of updates
to LinuxCNC when you go on line and allow you to easily upgrade with no
Linux knowledge needed.
If you want to upgrade to Debian Wheezy from 10.04 or 8.04 a clean install from
the Live-CD is recommended.
It is OK to upgrade everything except the operating system when asked to.

Warning: Do not upgrade the operating system if promped to do so.

== Install Problems

In rare cases you might have to reset the BIOS to default settings if
during the Live CD install it cannot recognize the hard drive 
during the boot up.


== Alternate Install Methods

The easiest, preferred way to install LinuxCNC is to use the Live/Install
Image as described above.  That method is as simple and reliable as we
can make it, and is suitable for novice users and experienced users alike.

In addition, for experienced users who are familiar with Debian system
administration (finding install images, manipulating apt sources, changing
kernel flavors, etc), new installs are supported on following platforms:

[options="header"]
|===================================================================
| Distribution   | Architecture | kernel     | Typical use
| Debian Wheezy  | i386         | RTAI       | machine control & simulation
| Debian Wheezy  | amd64 & i386 | Preempt-RT | machine control & simulation
| Debian Wheezy  | amd64 & i386 | vanilla    | simulation only
| Ubuntu Precise | i386         | RTAI       | machine control & simulation
| Ubuntu Precise | amd64 & i386 | vanilla    | simulation only
| Ubuntu Lucid   | i386         | RTAI       | machine control & simulation
| Ubuntu Lucid   | amd64 & i386 | vanilla    | simulation only
|===================================================================

The RTAI kernels are available for download from the linuxcnc.org
debian archive.  The apt source is:

    * Debian Wheezy: `deb http://linuxcnc.org wheezy base`
    * Ubuntu Precise: `deb http://linuxcnc.org precise base`
    * Ubuntu Lucid: `deb http://linuxcnc.org lucid base`

The Preempt-RT kernels are available from the regular debian.org archive,
as part of Debian Wheezy.  No special apt source is needed.  The packages
are called `linux-image-rt-amd64` and `linux-image-rt-686-pae`.


=== Installing on Debian Wheezy (with Preempt-RT kernel)

* Install Debian Wheezy (Debian version 7), either i386 or amd64.
  You can download the installer here:
  https://www.debian.org/CD/http-ftp/#stable

* Run `sudo apt-get update` followed by `sudo apt-get dist-upgrade` to
  bring the machine up to date with the latest packages in Debian Wheezy.

* Install the Preempt-RT kernel and modules by running: `sudo
  apt-get install linux-image-rt-amd64` or `sudo apt-get install
  linux-image-rt-686-pae`.

* Reboot, and make sure you boot into the Preempt-RT kernel. When you
  log in, verify that `uname -r` says 3.2.0-4-rt-686-pae.

* Add the LinuxCNC Archive Signing Key to your apt keyring by running
  `sudo apt-key adv --keyserver hkp://keys.gnupg.net --recv-key 8f374fef`

* Add a new apt source that looks like this: `deb http://linuxcnc.org/
  wheezy base 2.7-uspace`

* Run `sudo apt-get update` again to fetch the package list from
  linuxcnc.org.

* Run `sudo apt-get install linuxcnc-uspace`.

* Machine away!


=== Installing on Ubuntu Precise

* Install Ubuntu Precise 12.04 x86 (32-bit). Any flavor should
  work (regular Ubuntu, Xubuntu, Lubuntu, etc). 64-bit (AMD64)
  is currently not supported. You can download the installer here:
  http://releases.ubuntu.com/precise/

* Run `sudo apt-get update` followed by `sudo apt-get dist-upgrade` to
  bring the machine up to date with the latest packages in Ubuntu Precise.

* Add the LinuxCNC Archive Signing Key to your apt keyring by running
  `sudo apt-key adv --keyserver hkp://keys.gnupg.net --recv-key 8f374fef`

* Add a new apt source that looks like this: `deb http://linuxcnc.org/
  precise base 2.7-rtai`

* Run `sudo apt-get update` again to fetch the package list from
  linuxcnc.org.

* Install the RTAI kernel and modules by running: `sudo apt-get install
  linux-image-3.4-9-rtai-686-pae rtai-modules-3.4-9-rtai-686-pae`

* If you want to be able to build LinuxCNC from source using the git repo,
  also run `sudo apt-get install linux-headers-3.4-9-rtai-686-pae`

* Reboot, and make sure you boot into the rtai kernel. When you log in,
  verify that `uname -r` says 3.4-9-rtai-686-pae.

* Run `sudo apt-get install linuxcnc`.

* Machine away!
