:lang: fr

= Petite FAQ Linux

[[cha:faq-linux]] (((FAQ Linux)))

Voici quelques commandes et techniques de base pour l'utilisateur débutant
sous Linux. Beaucoup d'autres informations peuvent être trouvées sur le web
ou dans les man pages.

== Login automatique (((Login automatique)))

Quand LinuxCNC est installé avec le CD-Live Ubuntu, par défaut il faut
passer par la fenêtre de connexion à chaque démarrage du PC. Pour activer le
login automatique ouvrir le menu 'Système → Administration → Fenêtre de
connexion'. Si l'installation est nouvelle, la fenêtre de connexion peut
prendre quelques secondes pour s'ouvrir. Entrer le mot de passe utilisé
pendant l'installation pour accéder à la fenêtre des préférences. Dans
l'onglet Sécurité, décocher la case Activer les connexions automatiques et
saisir le nom d'utilisateur ou en choisir un dans la liste déroulante.

== Démarrage automatique (((Démarrage automatique)))

Pour que LinuxCNC démarre automatiquement avec sa configuration après le
démarrage de l'ordinateur, aller dans 'Système > Sessions > Applications à
démarrer', cliquer sur Ajouter. Naviguer vers la bonne configuration puis
sélectionner le fichier .ini. Quand la recherche de fichiers se ferme,
ajouter linuxcnc et un espace devant le chemin du bon fichier ini.

Exemple:

----
linuxcnc /home/mill/linuxcnc/config/mill/mill.ini
----

== Pages de manuel[[sec:Pages-man]]

(((Pages man)))

Les Man pages sont des pages de manuel générées automatiquement le plus
souvent. Les Man pages existent pour quasiment tous les programmes et les
commandes de Linux.

Pour visualiser une man page ouvrir un terminal depuis 'Applications →
Accessoires → Terminal'. Par exemple pour trouver quelques choses concernant
la commande 'find', taper alors dans une console:

----
man find
----

Utiliser les touches 'Vers le haut' et 'Vers le bas' pour faire défiler le
texte et la touche Q pour quitter.

== Lister les modules du noyau

En cas de problème il est parfois utile de connaître la liste des modules du
noyau qui sont chargés. Ouvrir une console et taper:

----
lsmod
----

Pour consulter tranquillement le résultat d'une commande en l'envoyant dans
un fichier, la taper sous cette forme:

----
lsmod > mesmodules.txt
----

Le fichier mes_modules.txt résultant, se trouvera alors dans le répertoire
home si c'est de là qu'a été ouverte la console.

== Éditer un fichier en root[[sec:Editer-un-fichier-en-root]]

(((Éditer un fichier en root)))

Lorsque le navigateur de fichiers et ouvert et que le propriétaire des
fichiers est le root, certaines précautions sont indispensables. Éditer
certains fichiers du système en root peut donner des résultats inattendus!
Il faut être très vigilant quand on édite en root, une erreur peut
compromettre tout le système et l'empêcher de redémarrer. Il est possible
d'ouvrir et de lire de nombreux fichiers systèmes appartenant au root, mais
ils sont en mode lecture seule.

=== A la ligne de commande

(((sudo gedit)))

Ouvrir une console depuis 'Applications → Accessoires → Terminal'.

Dans ce terminal, taper:

----
sudo gedit
----

Ouvrir un fichier depuis 'Fichiers → Ouvrir → Éditer'.

=== En mode graphique

(((gksudo)))

 . Faire un clic droit sur le bureau et choisir 'Créer un lanceur..'
 . Taper un nom tel que 'éditeur', dans la zone 'Nom'.
 . Entrer 'gksudo "gnome-open %u"' dans la zone 'Commande' et valider.
 . Glisser un fichier et le déposer le lanceur, le fichier s'ouvrira alors directement dans l'éditeur.

=== Accès en root

Dans Ubuntu il est possible de devenir root en tapant la commande "sudo -i"
dans une console, puis en donnant son mot de passe. Il faut être prudent
car, quand on est root, il est alors possible de corrompre tout le système
sur une simple erreur de frappe.

== Commandes du terminal[[sec:Commandes-Terminal]]

(((Commandes en console)))

=== Répertoire de travail (((Répertoire de travail)))(((pwd)))

Pour afficher le chemin du répertoire courant dans le terminal taper:

----
pwd
----

=== Changer de répertoire

(((Changer de répertoire))) (((cd)))

Pour remonter d'un niveau dans le répertoire précédent, taper dans le
terminal:

----
cd ..
----

Pour remonter de deux niveaux dans les répertoires précédents, taper dans le
terminal:

----
cd ../..
----

Pour aller directement dans le sous-répertoire linuxcnc/configs taper:

----
cd linuxcnc/configs
----

=== Lister les fichiers du répertoire courant

(((Lister le répertoire courant)))(((dir)))(((ls)))

Pour voir le contenu du répertoire courant taper:

----
dir
----

ou

----
ls
----

=== Trouver un fichier

(((Trouver un fichier)))(((find)))

La commande 'find' peut être un peu déroutante pour le nouvel utilisateur de
Linux. La syntaxe de base est:

----
find répertoire_de_départ <paramètres> <actions>
----

Par exemple, pour trouver tous les fichiers .ini dans le répertoire linuxcnc
utiliser d'abord la commande 'pwd' pour trouver le répertoire
courant. Ouvrir un nouveau terminal et taper:

----
pwd
----

La commande pwd retourne par exemple le résultat suivant:

----
/home/robert
----

Avec cette information il est possible de taper, par exemple, la commande:

----
find /home/robert/linuxcnc -name \*.ini -print
----

Le -name est le nom du fichier recherché et le -print indique à find
d'afficher le résultat dans la console. Le *.ini indique à find de retourner
tous les fichiers portant l'extension .ini. L'anti-slash est nécessaire pour
échapper les méta-caractères du shell. Voir à ce propos les pages man de la
commande find.

=== Rechercher un texte

(((Rechercher un texte)))(((grep)))

----
grep -lir 'texte a rechercher' *
----

Pour trouver tous les fichiers contenant le texte 'texte à rechercher' dans
le répertoire courant, tous ses sous-répertoires et en ignorant la casse.
Le paramètre -l demande de ne pas afficher les résultats normalement mais à
la place, d'indiquer le nom des fichiers pour lesquels des résultats
auraient été affichés. Le paramètre -i demande d'ignorer la casse. Le
paramètre -r demande une recherche récursive (qui inclus tous les
sous-répertoires dans la recherche).  Le caractère * est un jocker indiquant
de rechercher tous les fichiers. Voir la page de man pour la commande grep.

=== Messages de boot

Pour visualiser les messages de boot utiliser la commande 'dmesg' depuis une
console. Pour enregistrer ces messages dans un fichier, les rediriger avec:

----
dmesg > dmesg.txt
----

Le contenu de ce fichier pourra alors être copié et collé à destination des
personnes en ligne qui vous aideront à diagnostiquer votre problème.

Pour nettoyer le tampon des messages taper cette commande:

----
sudo dmesg -c
----

C'est utile avant de lancer LinuxCNC, pour que ne soit enregistrés que les
messages relatifs à son fonctionnement courant.

Pour trouver les adresses des ports parallèles de la machine, utiliser la
commande grep pour filtrer les informations contenues dans dmesg.

Juste après le boot, ouvrir une console et taper:

----
dmesg|grep parport
----

== Items de commodité

=== Lanceur de terminal

Si vous voulez ajouter un lanceur de terminal à la barre du haut de l'écran,
vous pouvez généralement faire un clic droit sur cette barre et sélectionner
'Ajouter au Panel'. Sélectionner 'Lanceur d'application personnalisé' et
Ajouter. Lui donner un nom et mettre 'gnome-terminal' dans la boîte de
dialogue.

== Problèmes matériels

=== Informations sur le matériel

Pour voir la liste du matériel installé sur les ports PCI de votre carte
mère, taper la commande suivante dans un terminal:

----
lspci -v
----

=== Résolution du moniteur

Lors de l'installation d'Ubuntu les réglages du moniteur sont
automatiquement détectés. Il peut arriver que la détection fonctionne mal et
que la résolution ne soit que celle d'un moniteur générique en 800x600.

Pour résoudre ce cas, suivre les instructions données ici:

https://help.ubuntu.com/community/FixVideoResolutionHowto[https://help.ubuntu.com/community/FixVideoResolutionHowto]

== Chemins

.Chemins relatifs Les chemins relatifs sont basés sur le répertoire de
départ qui est le répertoire contenant le fichier ini. L'utilisation des
chemins relatifs peut faciliter la réinstallation des configurations mais
nécessite une bonne compréhension des spécificités des chemins dans linux.

....
   ./f0        est le même que f0, ex: un fichier nommé f0 situé dans le répertoire de départ
   ../f1       se réfère au fichier f1 situé dans le répertoire parent
   ../../f2    se réfère au fichier f2 situé dans le répertoire parent du répertoire parent précédent
   ../../../f3 etc.
....


// vim: set syntax=asciidoc:
